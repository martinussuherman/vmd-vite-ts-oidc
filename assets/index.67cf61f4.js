import{V as f,R as x,a as b}from"./main.1db1b49a.js";function C(t,i,e){if(typeof window=="undefined"||!("IntersectionObserver"in window))return;const s=i.modifiers||{},a=i.value,{handler:c,options:d}=typeof a=="object"?a:{handler:a,options:{}},l=new IntersectionObserver((h=[],p)=>{var r;const n=(r=t._observe)===null||r===void 0?void 0:r[e.context._uid];if(!n)return;const o=h.some(v=>v.isIntersecting);c&&(!s.quiet||n.init)&&(!s.once||o||n.init)&&c(h,p,o),o&&s.once?u(t,i,e):n.init=!0},d);t._observe=Object(t._observe),t._observe[e.context._uid]={init:!1,observer:l},l.observe(t)}function u(t,i,e){var s;const a=(s=t._observe)===null||s===void 0?void 0:s[e.context._uid];!a||(a.observer.unobserve(t),delete t._observe[e.context._uid])}const g={inserted:C,unbind:u};var k=g,y=f.extend({name:"routable",directives:{Ripple:x},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:()=>({isActive:!1,proxyClass:""}),computed:{classes(){const t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple(){var t;return(t=this.ripple)!==null&&t!==void 0?t:!this.disabled&&this.isClickable},isClickable(){return this.disabled?!1:Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink(){return this.to||this.href||this.link},styles:()=>({})},watch:{$route:"onRouteChange"},mounted(){this.onRouteChange()},methods:{generateRouteLink(){let t=this.exact,i;const e={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}],[this.to?"nativeOn":"on"]:{...this.$listeners,..."click"in this?{click:this.click}:void 0},ref:"link"};if(typeof this.exact=="undefined"&&(t=this.to==="/"||this.to===Object(this.to)&&this.to.path==="/"),this.to){let s=this.activeClass,a=this.exactActiveClass||s;this.proxyClass&&(s=`${s} ${this.proxyClass}`.trim(),a=`${a} ${this.proxyClass}`.trim()),i=this.nuxt?"nuxt-link":"router-link",Object.assign(e.props,{to:this.to,exact:t,exactPath:this.exactPath,activeClass:s,exactActiveClass:a,append:this.append,replace:this.replace})}else i=this.href&&"a"||this.tag||"div",i==="a"&&this.href&&(e.attrs.href=this.href);return this.target&&(e.attrs.target=this.target),{tag:i,data:e}},onRouteChange(){if(!this.to||!this.$refs.link||!this.$route)return;const t=`${this.activeClass||""} ${this.proxyClass||""}`.trim(),i=`${this.exactActiveClass||""} ${this.proxyClass||""}`.trim()||t,e="_vnode.data.class."+(this.exact?i:t);this.$nextTick(()=>{!b(this.$refs.link,e)===this.isActive&&this.toggle()})},toggle(){this.isActive=!this.isActive}}});export{y as R,k as i};
